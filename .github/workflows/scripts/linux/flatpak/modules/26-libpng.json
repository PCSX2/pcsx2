{
  "name": "libpng",
  "buildsystem": "cmake-ninja",
  "builddir": true,
  "config-opts": [
    "-DPNG_TESTS=OFF",
    "-DPNG_STATIC=OFF",
    "-DPNG_SHARED=ON",
    "-DPNG_TOOLS=OFF"
  ],
  "build-options": {
    "strip": true
  },
  "sources": [
    {
      "type": "archive",
      "url": "https://downloads.sourceforge.net/project/libpng/libpng16/1.6.53/libpng-1.6.53.tar.xz",
      "sha256": "1d3fb8ccc2932d04aa3663e22ef5ef490244370f4e568d7850165068778d98d4"
    },
    {
      "type": "file",
      "url": "https://download.sourceforge.net/libpng-apng/libpng-1.6.51-apng.patch.gz",
      "dest-filename": "libpng-1.6.51-apng.patch.gz",
      "sha256": "9c16ec5654be709f062a705d0c6f529193f1c2123fe7f102fda6733913689023"
    },
    {
      "type": "shell",
      "commands":
      [
          "gunzip -f libpng-1.6.51-apng.patch.gz",
          "patch -p1  < \"libpng-1.6.51-apng.patch\""
      ]
    }
  ],
  "cleanup": [
    "/bin",
    "/include",
    "/lib/*.a",
    "/lib/*.la",
    "/lib/cmake",
    "/lib/libpng",
    "/lib/pkgconfig",
    "/share/man"
  ]
}

