{
  "name": "libpng",
  "buildsystem": "cmake-ninja",
  "builddir": true,
  "config-opts": [
    "-DPNG_TESTS=OFF",
    "-DPNG_STATIC=OFF",
    "-DPNG_SHARED=ON",
    "-DPNG_TOOLS=OFF"
  ],
  "build-options": {
    "strip": true
  },
  "sources": [
    {
      "type": "archive",
      "url": "https://downloads.sourceforge.net/project/libpng/libpng16/1.6.50/libpng-1.6.50.tar.xz",
      "sha256": "4df396518620a7aa3651443e87d1b2862e4e88cad135a8b93423e01706232307"
    },
    {
      "type": "file",
      "url": "https://download.sourceforge.net/libpng-apng/libpng-1.6.50-apng.patch.gz",
      "dest-filename": "libpng-1.6.50-apng.patch.gz",
      "sha256": "687ddc0c7cb128a3ea58e159b5129252537c27ede0c32a93f11f03127f0c0165"
    },
    {
      "type": "shell",
      "commands":
      [
          "gunzip -f libpng-1.6.50-apng.patch.gz",
          "patch -p1  < \"libpng-1.6.50-apng.patch\""
      ]
    }
  ],
  "cleanup": [
    "/bin",
    "/include",
    "/lib/*.a",
    "/lib/*.la",
    "/lib/cmake",
    "/lib/libpng",
    "/lib/pkgconfig",
    "/share/man"
  ]
}

